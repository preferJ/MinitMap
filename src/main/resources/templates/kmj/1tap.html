<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <script
            src="https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey=l7xx71377ca4d61b42018b3da0ede8c234fb"></script>
</head>
<style>
    #map_div {
        float: right;
        width: 100%;
        box-sizing: border-box;
    }

    #sidebar {
        float: left;
        width: 25%;
        height: 818px;
        background-color: #c7dbd2;
        border: 2px solid #000000;
    }
</style>
<body>
<th:block th:replace="/kmj/header :: header"></th:block>
</body>
<div id="sidebar">
    <div th:if="${session.loginEmail}">
    <button onclick="logout()">로그아웃</button> <br>
    </div>
    <div th:unless="${session.loginEmail}">
        <button onclick="loginForm()">로그인</button> <br>
    </div>
    <hr>
    <input type="search" placeholder="장소검색창">
    <hr>
    <div>
        <b>마이플레이스</b> <br>
        집<i class="fa-solid fa-house"></i><input type="text"> <br>
        회사<i class="fa-solid fa-buildings"></i><input type="text">
    </div>
    <hr>
    <div>
        <b>루틴</b>
        <input type="text" placeholder="출근길"> <br>
        <input type="text" placeholder="퇴근길">
    </div>
    <hr>
    <div>
        <b>자주보는 신호등</b><br>
        <input type="text" th:value="11"> <br>
        <input type="text" th:value="11">
    </div>
    <hr>
</div>
<script th:inline="javascript">
    const loginForm = () => {
        var width = 450;
        var height = 300;

        var left = (window.screen.width / 2) - (width / 2);
        var top = (window.screen.height / 4);

        var windowStatus = 'width=' + width + ', height=' + height + ', left=' + left + ', top=' + top + ', scrollbars=no, status=no, resizable=yes, titlebar=yes';

        window.open("/member/loginForm", "로그인", windowStatus);

    }
</script>
<script type="text/javascript">
    function initTmap() {
        // 1. 지도 띄우기
        map = new Tmapv2.Map("map_div", {
            center: new Tmapv2.LatLng(37.570028, 126.989072),
            width: "75%",
            height: "817px",
            zoom: 15,
            zoomControl: true,
            scrollwheel: true
        });
    }

    function logout(){
        location.href = "/member/logout";
    }
</script>
<body onload="initTmap();">
<div id="map_div"></div>
</body>
</html>
